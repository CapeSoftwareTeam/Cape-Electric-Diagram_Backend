CREATE DATABASE lv_safety_verification;
use lv_safety_verification;


-----------> Diagram <----------

			CREATE TABLE DIAGRAM_COMPONENT(
			DIAGRAM_ID INT AUTO_INCREMENT,
			USER_NAME VARCHAR(255),
			FILE_NAME VARCHAR(255),
			FILE longtext,
			CREATED_BY VARCHAR(255),
			CREATED_DATE DATETIME,
			UPDATED_BY VARCHAR(255),
			UPDATED_DATE DATETIME,
			CONSTRAINT PK_DIAGRAM_ID PRIMARY KEY(DIAGRAM_ID)
			)
			
-----------> Diagram Symbols <----------
			
            
            CREATE TABLE DIAGRAM_SYMBOL(
			ID INT AUTO_INCREMENT,
			IMAGE_SOURCE VARCHAR(200),
			IMAGE_NAME VARCHAR(200),
			CONSTRAINT PK_ID PRIMARY KEY(ID)	
			)
			
			INSERT INTO DIAGRAM_SYMBOL VALUES (1, '../../assets/img/Generator.png', 'Generator');
			INSERT INTO DIAGRAM_SYMBOL VALUES (2, '../../assets/img/Breaker.png', 'Breaker');
			INSERT INTO DIAGRAM_SYMBOL VALUES (3, '../../assets/img/Breaker1.png', 'Breaker1');
			INSERT INTO DIAGRAM_SYMBOL VALUES (4, '../../assets/img/Distribution board.png', 'Distribution board');
			INSERT INTO DIAGRAM_SYMBOL VALUES (5, '../../assets/img/Generator.png', 'Generator');
			INSERT INTO DIAGRAM_SYMBOL VALUES (6, '../../assets/img/Light.png', 'Light');
			INSERT INTO DIAGRAM_SYMBOL VALUES (7, '../../assets/img/MCB.png', 'MCB');
			INSERT INTO DIAGRAM_SYMBOL VALUES (8, '../../assets/img/MCB_with_RCD.png', 'MCB_with_RCD');
			INSERT INTO DIAGRAM_SYMBOL VALUES (9, '../../assets/img/MCCB.png', 'MCCB');
			INSERT INTO DIAGRAM_SYMBOL VALUES (10, '../../assets/img/Motor.png', 'Motor');
			INSERT INTO DIAGRAM_SYMBOL VALUES (11, '../../assets/img/Transformer_delta_delta.png', 'Transformer_delta_delta');
			INSERT INTO DIAGRAM_SYMBOL VALUES (12, '../../assets/img/Transformer_delta_star.png', 'Transformer_delta_star');
			INSERT INTO DIAGRAM_SYMBOL VALUES (13, '../../assets/img/Transformer_star_delta.png', 'Transformer_star_delta');
			INSERT INTO DIAGRAM_SYMBOL VALUES (14, '../../assets/img/Transformer_star_star.png', 'Transformer_star_star');
			INSERT INTO DIAGRAM_SYMBOL VALUES (15, '../../assets/img/Wire.png', 'Wire');
			INSERT INTO DIAGRAM_SYMBOL VALUES (16, '../../assets/img/Capacitor.png', 'Capacitor');
			INSERT INTO DIAGRAM_SYMBOL VALUES (17, '../../assets/img/Inductor.png', 'Inductor');
			INSERT INTO DIAGRAM_SYMBOL VALUES (18, '../../assets/img/Diode.png', 'Diode');
			INSERT INTO DIAGRAM_SYMBOL VALUES (19, '../../assets/img/Resistor.png', 'Resistor');
			INSERT INTO DIAGRAM_SYMBOL VALUES (20, '../../assets/img/Ground1.png', 'Ground1');
			
			
-----------> MCB <----------

CREATE TABLE MCB(
			MCB_ID INT AUTO_INCREMENT,
			NODE_ID VARCHAR(200),
			FILE_NAME VARCHAR(200),
			USER_NAME VARCHAR(200),
			REFERENCE_NAME VARCHAR(200),
			MANUFACTURER_NAME VARCHAR(200),
			RATING INTEGER,
			VOLTAGE INTEGER,
			NO_OF_POLES VARCHAR(200),
			CURRENT_CURVE VARCHAR(200),
			OUTGOING_SIZE_PHASE INTEGER,
			OUTGOING_SIZE_NEUTRAL INTEGER,
			OUTGOING_SIZE_PROTECTIVE INTEGER,
			CREATED_BY VARCHAR(200),
			CREATED_DATE DATETIME,
			UPDATED_BY VARCHAR(200),
			UPDATED_DATE DATETIME,		
			CONSTRAINT PK_MCB_ID PRIMARY KEY(MCB_ID)	
			);
			

CREATE TABLE GENERAL_TESTING_MCB(
			GENERAL_TESTING_MCB_ID INT AUTO_INCREMENT,
			MCB_ID INTEGER,
			RN VARCHAR(200),
			YN VARCHAR(200),
			BN VARCHAR(200),
			RE VARCHAR(200),
			YE VARCHAR(200),
			BE VARCHAR(200),
			RY VARCHAR(200),
			YB VARCHAR(200),
			BR VARCHAR(200),
			NE VARCHAR(200),
			IR_CURRENT VARCHAR(200),
			IY_CURRENT VARCHAR(200),
			IB_CURRENT VARCHAR(200),
			IN_CURRENT VARCHAR(200),
			IPE_CURRENT VARCHAR(200),
			POWER_FACTOR VARCHAR(200),
			FREQUENCY VARCHAR(200),
			CONSTRAINT PK_GENERAL_TESTING_MCB_ID PRIMARY KEY(GENERAL_TESTING_MCB_ID),
			CONSTRAINT FK_GENERAL_TESTING_MCB_ID FOREIGN KEY(MCB_ID) REFERENCES MCB(MCB_ID) ON DELETE CASCADE
			);
			
CREATE TABLE SAFETY_TESTING_MCB(
			SAFETY_TESTING_MCB_ID INT AUTO_INCREMENT,
			MCB_ID INTEGER,
			RN VARCHAR(200),
			YN VARCHAR(200),
			BN VARCHAR(200),
			RE VARCHAR(200),
			YE VARCHAR(200),
			BE VARCHAR(200),
			RY VARCHAR(200),
			YB VARCHAR(200),
			BR VARCHAR(200),
			SHOCK_VOLTAGE VARCHAR(200),
			FLOOR_RESISTANCE VARCHAR(200),
			WALL_RESISTANCE VARCHAR(200),
			CONSTRAINT PK_SAFETY_TESTING_MCB_ID PRIMARY KEY(SAFETY_TESTING_MCB_ID),
			CONSTRAINT FK_SAFETY_TESTING_MCB_ID FOREIGN KEY(MCB_ID) REFERENCES MCB(MCB_ID) ON DELETE CASCADE
			);
			
			
-----------> MCCB <----------


-----------> RCBO <----------

CREATE TABLE RCBO(
			RCBO_ID INT AUTO_INCREMENT,
			NODE_ID VARCHAR(200),
			FILE_NAME VARCHAR(200),
			USER_NAME VARCHAR(200),
			REFERENCE_NAME VARCHAR(200),
			MANUFACTURER_NAME VARCHAR(200),
			RATING INTEGER,
			VOLTAGE INTEGER,
			NO_OF_POLES VARCHAR(200),
			CURRENT_CURVE VARCHAR(200),
			RESIDUAL_CURRENT_TYPE VARCHAR(200),
			RESIDUAL_CURRENT INTEGER,
			OUTGOING_SIZE_PHASE INTEGER,
			OUTGOING_SIZE_NEUTRAL INTEGER,
			OUTGOING_SIZE_PROTECTIVE INTEGER,
			CREATED_BY VARCHAR(200),
			CREATED_DATE DATETIME,
			UPDATED_BY VARCHAR(200),
			UPDATED_DATE DATETIME,		
			CONSTRAINT PK_RCBO_ID PRIMARY KEY(RCBO_ID)	
			);
			

CREATE TABLE GENERAL_TESTING_RCBO(
			GENERAL_TESTING_RCBO_ID INT AUTO_INCREMENT,
			RCBO_ID INTEGER,
			RN VARCHAR(200),
			YN VARCHAR(200),
			BN VARCHAR(200),
			RE VARCHAR(200),
			YE VARCHAR(200),
			BE VARCHAR(200),
			RY VARCHAR(200),
			YB VARCHAR(200),
			BR VARCHAR(200),
			NE VARCHAR(200),
			IR_CURRENT VARCHAR(200),
			IY_CURRENT VARCHAR(200),
			IB_CURRENT VARCHAR(200),
			IN_CURRENT VARCHAR(200),
			IPE_CURRENT VARCHAR(200),
			POWER_FACTOR VARCHAR(200),
			FREQUENCY VARCHAR(200),
			CONSTRAINT PK_GENERAL_TESTING_RCBO_ID PRIMARY KEY(GENERAL_TESTING_RCBO_ID),
			CONSTRAINT FK_GENERAL_TESTING_RCBO_ID FOREIGN KEY(RCBO_ID) REFERENCES RCBO(RCBO_ID) ON DELETE CASCADE
			);
			
CREATE TABLE SAFETY_TESTING_RCBO(
			SAFETY_TESTING_RCBO_ID INT AUTO_INCREMENT,
			RCBO_ID INTEGER,
			RN VARCHAR(200),
			YN VARCHAR(200),
			BN VARCHAR(200),
			RE VARCHAR(200),
			YE VARCHAR(200),
			BE VARCHAR(200),
			RY VARCHAR(200),
			YB VARCHAR(200),
			BR VARCHAR(200),
			SHOCK_VOLTAGE VARCHAR(200),
			FLOOR_RESISTANCE VARCHAR(200),
			WALL_RESISTANCE VARCHAR(200),
			CONSTRAINT PK_SAFETY_TESTING_RCBO_ID PRIMARY KEY(SAFETY_TESTING_RCBO_ID),
			CONSTRAINT FK_SAFETY_TESTING_RCBO_ID FOREIGN KEY(RCBO_ID) REFERENCES RCBO(RCBO_ID) ON DELETE CASCADE
			);


			